use testing;

DROP TABLE IF EXISTS RANDOMPHONE;

CREATE TABLE RANDOMPHONE (
	`Id` int NOT NULL primary KEY,
    `PhoneNumber` varchar(25)
);

SET @js ='[
	"938 118-6510",
	"360 337-0319",
	"747 490-3579",
	"609 472-8601",
	"720 872-4954",
	"617 675-3829",
	"445 958-0249",
	"708 421-4432",
	"224 154-8885",
	"225 459-3612",
	"442 301-3194",
	"310 691-1379",
	"250 879-3425",
	"310 586-2948",
	"682 575-7510",
	"719 804-7208",
	"424 782-5334",
	"386 658-5234",
	"319 087-9260",
	"769 634-4099",
	"847 189-4889",
	"847 097-2924",
	"802 027-9809",
	"937 904-0611",
	"762 553-2341",
	"518 708-5826",
	"484 411-9783",
	"336 061-4439",
	"346 831-9221",
	"863 181-7618",
	"305 960-4878",
	"403 756-9247",
	"647 144-7594",
	"714 460-5749",
	"248 809-6121",
	"909 710-3773",
	"419 227-2784",
	"713 104-0471",
	"867 039-6437",
	"959 381-7177",
	"863 223-9012",
	"519 637-8634",
	"918 714-9772",
	"941 848-9600",
	"214 350-5939",
	"618 832-5147",
	"346 484-8877",
	"980 646-3168",
	"602 124-3106",
	"636 394-0317",
	"425 633-2667",
	"334 303-8793",
	"407 020-2403",
	"314 382-1342",
	"726 548-1798",
	"629 930-5975",
	"770 857-1022",
	"548 741-8075",
	"779 137-7419",
	"506 325-4255",
	"838 112-2968",
	"469 669-5117",
	"667 673-4120",
	"512 578-2435",
	"725 472-5882",
	"716 964-7169",
	"605 726-7436",
	"416 484-6248",
	"773 856-7604",
	"430 691-3354",
	"412 747-5028",
	"714 843-7623",
	"409 677-1620",
	"984 228-5264",
	"323 869-5976"
]';

INSERT RANDOMPHONE ( Id, PhoneNumber )
SELECT j.Id, j.Phone
  FROM json_table(@js, 
  '$[*]' COLUMNS( 
	Id For ordinality,
	Phone VARCHAR(25) PATH '$' ) ) j
  LEFT JOIN RANDOMPHONE r
  ON j.Phone = r.PhoneNumber
WHERE r.Id IS NULL;